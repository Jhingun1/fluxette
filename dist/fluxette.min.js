(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.fluxette = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{"default":t}}function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _get=function(t,e,r){for(var o=!0;o;){var n=t,a=e,i=r;u=l=s=void 0,o=!1,null===n&&(n=Function.prototype);var u=Object.getOwnPropertyDescriptor(n,a);if(void 0!==u){if("value"in u)return u.value;var s=u.get;return void 0===s?void 0:s.call(i)}var l=Object.getPrototypeOf(n);if(null===l)return void 0;t=l,e=a,r=i,o=!0}},_createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var o=e[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,r,o){return r&&t(e.prototype,r),o&&t(e,o),e}}(),_react=require("react"),_react2=_interopRequireDefault(_react),_store=require("./store"),_store2=_interopRequireDefault(_store),_util=require("./util");exports.Store=_store2["default"];var _default=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];_classCallCheck(this,t),this.stores=e,this.hooks=[],this.history=[]}return _createClass(t,[{key:"state",value:function(){return _util.deriveState(this.stores)}},{key:"dispatch",value:function(){for(var t=arguments.length,e=Array(t),r=0;t>r;r++)e[r]=arguments[r];if(e=_util.normalizeArray(e).filter(function(t){return t instanceof Object}),e.length>0){var o;(o=this.history).push.apply(o,_toConsumableArray(e));var n=this.stores;_util.updateState(n,e),_util.callAll(this.hooks,_util.deriveState(n))}}},{key:"hook",value:function(t){this.hooks.push(t)}},{key:"unhook",value:function(t){_util.deleteFrom(this.hooks,t)}},{key:"connect",value:function(){var t=arguments.length<=0||void 0===arguments[0]?function(t){return t}:arguments[0],e=this.hooks,r=this.state.bind(this);return function(o){return function(o){function n(){var o=this;_classCallCheck(this,n);for(var a=arguments.length,i=Array(a),u=0;a>u;u++)i[u]=arguments[u];_get(Object.getPrototypeOf(n.prototype),"constructor",this).apply(this,i);var s=this.state=t(r()),l=r(),c=this[_util.listenerKey]=function(e){var a=t(e),i=r();console.assert(l===i,l,i),s!==a?(console.log("different state!",s,a),s=a,_get(Object.getPrototypeOf(n.prototype),"setState",o).call(o,a)):console.log("same state!")};e.push(c)}return _inherits(n,o),_createClass(n,[{key:"componentWillUnmount",value:function(){for(var t=arguments.length,r=Array(t),o=0;t>o;o++)r[o]=arguments[o];_get(Object.getPrototypeOf(n.prototype),"componentWillUnmount",this).apply(this,r),_util.deleteFrom(e,this[_util.listenerKey])}}]),n}(o)}}}]),t}();exports["default"]=_default;

},{"./store":2,"./util":3,"react":"react"}],2:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return function(r){return void 0!==r&&(r instanceof Array||(r=[r]),r.forEach(function(r){var n=t[r.type];n&&(e=n(e,r))})),e}},module.exports=exports["default"];

},{}],3:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var _vendorLodash=require("../vendor/lodash"),_vendorLodash2=_interopRequireDefault(_vendorLodash),deriveState=function(e){return e instanceof Function?e():getState(e)};exports.deriveState=deriveState;var getState=function e(r){var t=r instanceof Array?[]:{};for(var a in r){var n=r[a];t[a]=n instanceof Function?n():e(n)}return t},normalizeArray=_vendorLodash2["default"].flattenDeep;exports.normalizeArray=normalizeArray;var callAll=function(e){for(var r=arguments.length,t=Array(r>1?r-1:0),a=1;r>a;a++)t[a-1]=arguments[a];for(var n in e)e[n].apply(e,t)};exports.callAll=callAll;var updateState=function(e){for(var r=arguments.length,t=Array(r>1?r-1:0),a=1;r>a;a++)t[a-1]=arguments[a];e instanceof Function?e.apply(void 0,t):callAllDeep.apply(void 0,[e].concat(t))};exports.updateState=updateState;var callAllDeep=function r(e){for(var t=arguments.length,a=Array(t>1?t-1:0),n=1;t>n;n++)a[n-1]=arguments[n];for(var o in e){var l=e[o];l instanceof Function?l.apply(void 0,a):r(l)}},listenerKey=Symbol?Symbol():"__fluxetteListener";exports.listenerKey=listenerKey;var deleteFrom=function(e,r){var t=e.indexOf(r);~t&&e.splice(t,1)};exports.deleteFrom=deleteFrom;var same=_vendorLodash2["default"].isEqual;exports.same=same;

},{"../vendor/lodash":4}],4:[function(require,module,exports){
(function (global){
"use strict";(function(){function t(t){return!!t&&"object"==typeof t}function r(){}function n(t,r){for(var n=-1,e=t.length;++n<e&&r(t[n],n,t)!==!1;);return t}function e(t,r){for(var n=-1,e=r.length,o=t.length;++n<e;)t[o+n]=r[n];return t}function o(t,r){for(var n=-1,e=t.length;++n<e;)if(r(t[n],n,t))return!0;return!1}function u(r,n,o,c){c||(c=[]);for(var a=-1,i=r.length;++a<i;){var l=r[a];t(l)&&b(l)&&(o||It(l)||m(l))?n?u(l,n,o,c):e(c,l):o||(c[c.length]=l)}return c}function c(r,n,e,o,u,i){return r===n?!0:null==r||null==n||!A(r)&&!t(n)?r!==r&&n!==n:a(r,n,c,e,o,u,i)}function a(t,r,n,e,o,u,c){var a=It(t),i=It(r),l=k,y=k;a||(l=dt.call(t),l==F?l=B:l!=B&&(a=E(t))),i||(y=dt.call(r),y==F?y=B:y!=B&&(i=E(r)));var b=l==B&&!pt(t),g=y==B&&!pt(r),v=l==y;if(v&&!a&&!b)return s(t,r,l);if(!o){var h=b&&jt.call(t,"__wrapped__"),j=g&&jt.call(r,"__wrapped__");if(h||j)return n(h?t.value():t,j?r.value():r,e,o,u,c)}if(!v)return!1;u||(u=[]),c||(c=[]);for(var d=u.length;d--;)if(u[d]==t)return c[d]==r;u.push(t),c.push(r);var m=(a?f:p)(t,r,n,e,o,u,c);return u.pop(),c.pop(),m}function i(t){return function(r){return null==r?I:j(r)[t]}}function l(t,r,n){if("function"!=typeof t)return P;if(r===I)return t;switch(n){case 1:return function(n){return t.call(r,n)};case 3:return function(n,e,o){return t.call(r,n,e,o)};case 4:return function(n,e,o,u){return t.call(r,n,e,o,u)};case 5:return function(n,e,o,u,c){return t.call(r,n,e,o,u,c)}}return function(){return t.apply(r,arguments)}}function f(t,r,n,e,u,c,a){var i=-1,l=t.length,f=r.length;if(l!=f&&!(u&&f>l))return!1;for(;++i<l;){var s=t[i],p=r[i],y=e?e(u?p:s,u?s:p,i):I;if(y!==I){if(y)continue;return!1}if(u){if(!o(r,function(t){return s===t||n(s,t,e,u,c,a)}))return!1}else if(s!==p&&!n(s,p,e,u,c,a))return!1}return!0}function s(t,r,n){switch(n){case C:case U:return+t==+r;case N:return t.name==r.name&&t.message==r.message;case q:return t!=+t?r!=+r:t==+r;case D:case M:return t==r+""}return!1}function p(t,r,n,e,o,u,c){var a=$t(t),i=a.length,l=$t(r),f=l.length;if(i!=f&&!o)return!1;for(var s=i;s--;){var p=a[s];if(!(o?p in r:jt.call(r,p)))return!1}for(var y=o;++s<i;){p=a[s];var b=t[p],g=r[p],v=e?e(o?g:b,o?b:g,p):I;if(!(v===I?n(b,g,e,o,u,c):v))return!1;y||(y="constructor"==p)}if(!y){var h=t.constructor,j=r.constructor;if(h!=j&&"constructor"in t&&"constructor"in r&&!("function"==typeof h&&h instanceof h&&"function"==typeof j&&j instanceof j))return!1}return!0}function y(t,r){var n=null==t?I:t[r];return S(n)?n:I}function b(t){return null!=t&&v(Pt(t))}function g(t,r){return t="number"==typeof t||rt.test(t)?+t:-1,r=null==r?xt:r,t>-1&&t%1==0&&r>t}function v(t){return"number"==typeof t&&t>-1&&t%1==0&&xt>=t}function h(t){for(var r=_(t),n=r.length,e=n&&t.length,o=!!e&&v(e)&&(It(t)||m(t)||x(t)),u=-1,c=[];++u<n;){var a=r[u];(o&&g(a,e)||jt.call(t,a))&&c.push(a)}return c}function j(t){if(r.support.unindexedChars&&x(t)){for(var n=-1,e=t.length,o=Object(t);++n<e;)o[n]=t.charAt(n);return o}return A(t)?t:Object(t)}function d(t){var r=t?t.length:0;return r?u(t,!0):[]}function m(r){return t(r)&&b(r)&&jt.call(r,"callee")&&!Ot.call(r,"callee")}function O(t,r,n,e){n="function"==typeof n?l(n,e,3):I;var o=n?n(t,r):I;return o===I?c(t,r,n):!!o}function w(t){return A(t)&&dt.call(t)==R}function A(t){var r=typeof t;return!!t&&("object"==r||"function"==r)}function S(r){return null==r?!1:w(r)?mt.test(ht.call(r)):t(r)&&(pt(r)?mt:tt).test(r)}function x(r){return"string"==typeof r||t(r)&&dt.call(r)==M}function E(r){return t(r)&&v(r.length)&&!!et[dt.call(r)]}function _(t){if(null==t)return[];A(t)||(t=Object(t));var n=t.length,e=r.support;n=n&&v(n)&&(It(t)||m(t)||x(t))&&n||0;for(var o=t.constructor,u=-1,c=w(o)&&o.prototype||gt,a=c===t,i=Array(n),l=n>0,f=e.enumErrorProps&&(t===bt||t instanceof Error),s=e.enumPrototypes&&w(t);++u<n;)i[u]=u+"";for(var p in t)s&&"prototype"==p||f&&("message"==p||"name"==p)||l&&g(p,n)||"constructor"==p&&(a||!jt.call(t,p))||i.push(p);if(e.nonEnumShadows&&t!==gt){var y=t===vt?M:t===bt?N:dt.call(t),b=Et[y]||Et[B];for(y==B&&(c=gt),n=nt.length;n--;){p=nt[n];var h=b[p];a&&h||(h?!jt.call(t,p):t[p]===c[p])||i.push(p)}}return i}function P(t){return t}var I,$="3.10.0",F="[object Arguments]",k="[object Array]",C="[object Boolean]",U="[object Date]",N="[object Error]",R="[object Function]",T="[object Map]",q="[object Number]",B="[object Object]",D="[object RegExp]",L="[object Set]",M="[object String]",V="[object WeakMap]",W="[object ArrayBuffer]",z="[object Float32Array]",G="[object Float64Array]",H="[object Int8Array]",J="[object Int16Array]",K="[object Int32Array]",Q="[object Uint8Array]",X="[object Uint8ClampedArray]",Y="[object Uint16Array]",Z="[object Uint32Array]",tt=/^\[object .+?Constructor\]$/,rt=/^\d+$/,nt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],et={};et[z]=et[G]=et[H]=et[J]=et[K]=et[Q]=et[X]=et[Y]=et[Z]=!0,et[F]=et[k]=et[W]=et[C]=et[U]=et[N]=et[R]=et[T]=et[q]=et[B]=et[D]=et[L]=et[M]=et[V]=!1;var ot={"function":!0,object:!0},ut=ot[typeof exports]&&exports&&!exports.nodeType&&exports,ct=ot[typeof module]&&module&&!module.nodeType&&module,at=ut&&ct&&"object"==typeof global&&global&&global.Object&&global,it=ot[typeof self]&&self&&self.Object&&self,lt=ot[typeof window]&&window&&window.Object&&window,ft=ct&&ct.exports===ut&&ut,st=at||lt!==(this&&this.window)&&lt||it||this,pt=function(){try{Object({toString:0}+"")}catch(t){return function(){return!1}}return function(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}}(),yt=Array.prototype,bt=Error.prototype,gt=Object.prototype,vt=String.prototype,ht=Function.prototype.toString,jt=gt.hasOwnProperty,dt=gt.toString,mt=RegExp("^"+ht.call(jt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ot=gt.propertyIsEnumerable,wt=yt.splice,At=y(Array,"isArray"),St=y(Object,"keys"),xt=9007199254740991,Et={};Et[k]=Et[U]=Et[q]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},Et[C]=Et[M]={constructor:!0,toString:!0,valueOf:!0},Et[N]=Et[R]=Et[D]={constructor:!0,toString:!0},Et[B]={constructor:!0},n(nt,function(t){for(var r in Et)if(jt.call(Et,r)){var n=Et[r];n[t]=jt.call(n,t)}});var _t=r.support={};!function(t){var r=function(){this.x=t},n={0:t,length:t},e=[];r.prototype={valueOf:t,y:t};for(var o in new r)e.push(o);_t.enumErrorProps=Ot.call(bt,"message")||Ot.call(bt,"name"),_t.enumPrototypes=Ot.call(r,"prototype"),_t.nonEnumShadows=!/valueOf/.test(e),_t.spliceObjects=(wt.call(n,0,1),!n[0]),_t.unindexedChars="x"[0]+Object("x")[0]!="xx"}(1,0);var Pt=i("length"),It=At||function(r){return t(r)&&v(r.length)&&dt.call(r)==k},$t=St?function(t){var n=null==t?I:t.constructor;return"function"==typeof n&&n.prototype===t||("function"==typeof t?r.support.enumPrototypes:b(t))?h(t):A(t)?St(t):[]}:h;r.flattenDeep=d,r.keys=$t,r.keysIn=_,r.identity=P,r.isArguments=m,r.isArray=It,r.isEqual=O,r.isFunction=w,r.isNative=S,r.isObject=A,r.isString=x,r.isTypedArray=E,r.eq=O,r.VERSION=$,"function"==typeof define&&"object"==typeof define.amd&&define.amd?(st._=r,define(function(){return r})):ut&&ct?ft?(ct.exports=r)._=r:ut._=r:st._=r}).call(void 0);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}]},{},[1])(1)
});