(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.fluxette = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _get=function(t,e,r){for(var n=!0;n;){var o=t,i=e,u=r;a=s=l=void 0,n=!1,null===o&&(o=Function.prototype);var a=Object.getOwnPropertyDescriptor(o,i);if(void 0!==a){if("value"in a)return a.value;var l=a.get;return void 0===l?void 0:l.call(u)}var s=Object.getPrototypeOf(o);if(null===s)return void 0;t=s,e=i,r=u,n=!0}},_createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),_util=require("./util"),_default=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];_classCallCheck(this,t),this.stores=e,this.vector=_util.vectorize(e),this.hooks=[],this.history=[],this.middleware=[],this.state=_util.derive(this.stores)}return _createClass(t,[{key:"dispatch",value:function(){for(var t=arguments.length,e=Array(t),r=0;t>r;r++)e[r]=arguments[r];e=_util.normalize(e),e.length>0&&(e=_util.waterfall(e,this.middleware),_util.fluxDispatch(this,e))}},{key:"connect",value:function(){var t=arguments.length<=0||void 0===arguments[0]?function(t){return t}:arguments[0],e=arguments.length<=1||void 0===arguments[1]?"flux":arguments[1];_util.isString(t)&&(e=t,t=function(t){return t});var r=this.hooks,n=this.state;return function(o){return function(o){function i(){var o=this;_classCallCheck(this,i);for(var u=arguments.length,a=Array(u),l=0;u>l;l++)a[l]=arguments[l];_get(Object.getPrototypeOf(i.prototype),"constructor",this).apply(this,a);var s=t(n);this.state=_defineProperty({},e,s);var c=this[_util.listenerKey]=function(r,n){var u=t(n);s!==u&&(s=u,_get(Object.getPrototypeOf(i.prototype),"setState",o).call(o,_defineProperty({},e,u)))};r.push(c)}return _inherits(i,o),_createClass(i,[{key:"componentWillUnmount",value:function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];_get(Object.getPrototypeOf(i.prototype),"componentWillUnmount",this).apply(this,e),_util.deleteFrom(r,this[_util.listenerKey])}}]),i}(o)}}}]),t}();exports["default"]=_default,module.exports=exports["default"];

},{"./util":5}],2:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(exports,"__esModule",{value:!0});var _flux=require("./flux"),_flux2=_interopRequireDefault(_flux),_store=require("./store"),_store2=_interopRequireDefault(_store),_mapware=require("./mapware"),_mapware2=_interopRequireDefault(_mapware),_util=require("./util");exports.Fluxette=_flux2["default"],exports.Store=_store2["default"],exports.Mapware=_mapware2["default"],exports["default"]=function(e){var t,r=new _flux2["default"](e);return{dispatch:r.dispatch.bind(r),hydrate:function(e){return _util.fluxDispatch(r,e)},state:function(){return r.state},history:function(){return r.history},proxy:(t=r.middleware).push.bind(t),unproxy:function(e){_util.deleteFrom(r.middleware,e)},hook:(t=r.hooks).push.bind(t),unhook:function(e){_util.deleteFrom(r.hooks,e)},connect:r.connect.bind(r)}};

},{"./flux":1,"./mapware":3,"./store":4,"./util":5}],3:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];return function(r){if(void 0!==r){r instanceof Array||(r=[r]);for(var t=0;t<r.length;t++){var n=r[t],o=e[n.type];if(o){var u=o(n);void 0!==u&&(r[t]=u)}}}return r}},module.exports=exports["default"];

},{}],4:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports["default"]=function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return function(r){if(void 0!==r){r instanceof Array||(r=[r]);for(var n=0;n<r.length;n++){var u=r[n],a=t[u.type];if(a){var o=a(e,u);void 0!==o&&(e=o)}}}return e}},module.exports=exports["default"];

},{}],5:[function(require,module,exports){
"use strict";function _toConsumableArray(r){if(Array.isArray(r)){for(var e=0,t=Array(r.length);e<r.length;e++)t[e]=r[e];return t}return Array.from(r)}Object.defineProperty(exports,"__esModule",{value:!0});var fluxDispatch=function(r,e){var t;(t=r.history).push.apply(t,_toConsumableArray(e)),atomicDispatch(r.vector,e),r.state=derive(r.stores),callAll(r.hooks,e,r.state)};exports.fluxDispatch=fluxDispatch;var vectorize=function(r){if(r instanceof Function)return[r];var e=[];return $vectorize(r,e),e};exports.vectorize=vectorize;var $vectorize=function r(e,t){for(var n in e){var a=e[n];a instanceof Function?t.push(a):r(a,t)}},derive=function(r){return r instanceof Function?r():$derive(r)};exports.derive=derive;var $derive=function e(r){var t=r instanceof Array?[]:{};for(var n in r){var a=r[n];t[n]=a instanceof Function?a():e(a)}return t},normalize=function(r){if(r.length>0){var e=[];return $normalize(r,e),e}return r};exports.normalize=normalize;var $normalize=function t(r,e){for(var n=0;n<r.length;n++){var a=r[n];a instanceof Array?t(a,e):a instanceof Object&&a.type&&e.push(a)}},atomicDispatch=function(r,e){for(var t=0;t<e.length;t++)for(var n=e[t],a=0;a<r.length;a++)r[a](n)};exports.atomicDispatch=atomicDispatch;var callAll=function(r){for(var e=arguments.length,t=Array(e>1?e-1:0),n=1;e>n;n++)t[n-1]=arguments[n];for(var a=0;a<r.length;a++)r[a].apply(r,t)};exports.callAll=callAll;var deleteFrom=function(r,e){var t=r.indexOf(e);~t&&r.splice(t,1)};exports.deleteFrom=deleteFrom;var waterfall=function(r,e){for(var t=0;t<e.length;t++)r=e[t](r);return r};exports.waterfall=waterfall;var isString=function(r){return"string"==typeof r||r instanceof String};exports.isString=isString;var listenerKey="undefined"!=typeof Symbol?Symbol():"@@fluxetteListener";exports.listenerKey=listenerKey;

},{}]},{},[2])(2)
});